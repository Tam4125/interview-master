{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Android%20Projects/interview-practice/lib/vapi.sdk.ts"],"sourcesContent":["import Vapi from '@vapi-ai/web';\r\n\r\nexport const vapi = new Vapi(process.env.NEXT_PUBLIC_VAPI_WEB_TOKEN!)"],"names":[],"mappings":";;;;AAE6B;AAF7B;;AAEO,MAAM,OAAO,IAAI,iKAAI","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///D:/Android%20Projects/interview-practice/components/Agent.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport Image from \"next/image\";\r\nimport {useRouter} from \"next/navigation\";\r\nimport {vapi} from \"@/lib/vapi.sdk\";\r\n\r\nenum CallStatus {\r\n    ACTIVE = \"ACTIVE\",\r\n    INACTIVE = \"INACTIVE\",\r\n    CONECTING = \"CONECTING\",\r\n    FINISHED = \"FINISHED\",\r\n}\r\n\r\ninterface SavedMessage {\r\n    role: 'user' | 'system' | 'assistant';\r\n    content: string;\r\n}\r\n\r\nexport const Agent = (agentProps:AgentProps) => {\r\n\r\n    const router = useRouter();\r\n\r\n    const [isSpeaking, setIsSpeaking] = useState(false);\r\n    const [callStatus, setCallStatus] = useState<CallStatus>(CallStatus.INACTIVE);\r\n    const [messages, setMessages] = useState<SavedMessage[]>([]);\r\n    const [lastMessage, setLastMessage] = useState<string>(\"\");\r\n\r\n    useEffect(() => {\r\n        const onCallStart = () => setCallStatus(CallStatus.ACTIVE);\r\n        const onCallEnd = () => setCallStatus(CallStatus.FINISHED);\r\n\r\n        const onMessage = (message: Message) => {\r\n            if (message.type === 'transcript' && message.transcriptType === 'final') {\r\n                const newMessage = {\r\n                    role: message.role,\r\n                    content: message.transcript,\r\n                }\r\n\r\n                setMessages((prev) => [...prev, newMessage]);\r\n            }\r\n        }\r\n\r\n        const onSpeechStart = () => setIsSpeaking(true);\r\n        const onSpeechEnd = () => setIsSpeaking(false);\r\n\r\n        const onError = (error:Error) => console.log(\"Error\", error);\r\n\r\n        vapi.on('call-start', onCallStart);\r\n        vapi.on('call-end', onCallEnd);\r\n        vapi.on('message', onMessage);\r\n        vapi.on('speech-start', onSpeechStart);\r\n        vapi.on('speech-end', onSpeechEnd);\r\n        vapi.on('error', onError);\r\n\r\n        return () => {\r\n            vapi.off('call-start', onCallStart);\r\n            vapi.off('call-end', onCallEnd);\r\n            vapi.off('message', onMessage);\r\n            vapi.off('speech-start', onSpeechStart);\r\n            vapi.off('speech-end', onSpeechEnd);\r\n            vapi.off('error', onError);\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (messages.length >0) {\r\n            setLastMessage(messages[messages.length - 1].content);\r\n        }\r\n\r\n        const handleGenerateFeedback = () => {\r\n\r\n        }\r\n\r\n        const handleCall = async () => {\r\n            setCallStatus(CallStatus.CONECTING);\r\n\r\n            await vapi.start(process.env.NEXT_PUBLIC_VAPI_WORKFLOW_ID!, {\r\n                variableValues: {\r\n                    username: agentProps.userName,\r\n                    userid: agentProps.userId\r\n                }\r\n            })\r\n        }\r\n\r\n        const handleDisconnect = async () => {\r\n            setCallStatus(CallStatus.FINISHED);\r\n            vapi.stop();\r\n        }\r\n\r\n    }, [messages, callStatus, agentProps.type, agentProps.userId]);\r\n\r\n    const borderStyle = isSpeaking ? 'border-2 border-white blue-gradient-dark' : 'dark-gradient';\r\n\r\n    return (\r\n        <div className=\"flex flex-col w-full gap-10\">\r\n            <div className=\"flex flex-row items-center justify-between w-full\">\r\n                <div className={`flex flex-col items-center justify-center gap-5 overflow-hidden h-[400px] max-sm:h-[300px] w-5/11 rounded-lg ${borderStyle}`}>\r\n                    <div className=\"flex items-center justify-center size-20 rounded-full p-5 blue-gradient relative z-10\">\r\n                        <div className=\"size-full relative rounded-full\">\r\n                            <Image src={'/ai-avatar.png'} alt={''} fill className=\"object-contain\"/>\r\n                        </div>\r\n                        {isSpeaking && (\r\n                            <span className=\"absolute size-5/6 animate-ping rounded-full bg-dark-400 opacity-75\"></span>\r\n                        )}\r\n                    </div>\r\n                    <h4>AI Interviewer</h4>\r\n                </div>\r\n\r\n                <div className={`flex flex-col items-center justify-center gap-5 overflow-hidden h-[400px] max-sm:h-[300px] w-5/11 rounded-lg ${borderStyle}`}>\r\n                    <div className=\"flex items-center justify-center size-20 rounded-full p-5 blue-gradient relative z-10\">\r\n                        <div className=\"size-full relative rounded-full\">\r\n                            <Image src={'/user-avatar.png'} alt={''} fill className=\"object-cover\"/>\r\n                        </div>\r\n                        {isSpeaking && (\r\n                            <span className=\"absolute size-5/6 animate-ping rounded-full bg-dark-400 opacity-75\"></span>\r\n                        )}\r\n                    </div>\r\n                    <h4>{agentProps.userName}</h4>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"flex items-center justify-center w-full dark-gradient border-2 border-dark-200 rounded-lg p-3\">\r\n                <p className=\"font-semibold\">{lastMessage}</p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-center w-full\">\r\n                {callStatus !== \"ACTIVE\" ? (\r\n                    <button className=\"flex flex-row items-center justify-center rounded-3xl py-2 px-5 bg-success-200 hover:bg-success-100 gap-2 font-semibold cursor-pointer\">\r\n                        <div className=\"size-5 relative\">\r\n                            <Image src={'/call.svg'} alt={''} fill className=\"object-contain\"/>\r\n                        </div>\r\n                        {callStatus === \"INACTIVE\" || callStatus === \"FINISHED\" ? \"Call\" : \". . .\"}\r\n\r\n                    </button>\r\n                ) : (\r\n                    <button className=\"flex flex-row items-center justify-center rounded-3xl py-2 px-5 bg-destructive-200 hover:bg-destructive-100 gap-2 font-semibold cursor-pointer\">\r\n                        <div className=\"size-5 relative\">\r\n                            <Image src={'/call-slash.svg'} alt={''} fill className=\"object-contain\"/>\r\n                        </div>\r\n                        Leave Interview\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///D:/Android%20Projects/interview-practice/app/%28root%29/interview/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react'\nimport {InterviewForm} from \"@/components/InterviewForm\";\nimport {Agent} from \"@/components/Agent\";\nimport {getCurrentUser} from \"@/lib/actions/auth.action\";\n\n\n\nconst InterviewPage = () => {\n\n    return (\n        <div className=\"flex justify-center items-center\">\n            <Agent></Agent>\n        </div>\n    )\n}\nexport default InterviewPage\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AASA,MAAM,gBAAgB;IAElB,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC,gIAAK;;;;;;;;;;AAGlB;KAPM;uCAQS","debugId":null}}]
}